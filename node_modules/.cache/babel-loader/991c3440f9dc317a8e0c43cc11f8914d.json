{"ast":null,"code":"import _classCallCheck from \"/Users/helen.liutongco/Development/code/harry-potter-react-app/lecture/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/helen.liutongco/Development/code/harry-potter-react-app/lecture/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/helen.liutongco/Development/code/harry-potter-react-app/lecture/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/helen.liutongco/Development/code/harry-potter-react-app/lecture/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/helen.liutongco/Development/code/harry-potter-react-app/lecture/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/helen.liutongco/Development/code/harry-potter-react-app/lecture/src/components/CharacterCard.js\";\nimport React, { Component, Fragment } from 'react';\nimport { getStudent } from '../endpoints';\n\nvar CharacterCard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CharacterCard, _Component);\n\n  function CharacterCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CharacterCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CharacterCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      studentData: null,\n      renderEdit: false,\n      name: \"\"\n    };\n\n    _this.regularView = function () {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, _this.state.studentData && _this.props.student.name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, _this.state.studentData && _this.state.studentData.role), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, _this.state.studentData && _this.state.studentData.patronus), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this.props.handleClick(_this.props.student._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"Toggle\"), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this.setState({\n            renderEdit: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, \"Edit\"));\n    };\n\n    _this.editView = function () {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"Name: \", React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: _this.props.student.name,\n        value: _this.state.name,\n        onChange: function onChange(e) {\n          return _this.setState({\n            name: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: _this.handleEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Submit\"));\n    };\n\n    _this.handleEdit = function () {\n      _this.setState({\n        studentData: {\n          _id: _this.state.studentData._id,\n          name: _this.state.name\n        },\n        renderEdit: false\n      }, function () {\n        return _this.props.changeStudentInfo(_this.state.studentData);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CharacterCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(getStudent(this.props.student._id)).then(function (data) {\n        return data.json();\n      }).then(function (data) {\n        return _this2.setState({\n          studentData: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"character-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, this.state.renderEdit ? this.editView() : this.regularView());\n    }\n  }]);\n\n  return CharacterCard;\n}(Component);\n\nexport default CharacterCard;","map":{"version":3,"sources":["/Users/helen.liutongco/Development/code/harry-potter-react-app/lecture/src/components/CharacterCard.js"],"names":["React","Component","Fragment","getStudent","CharacterCard","state","studentData","renderEdit","name","regularView","props","student","role","patronus","handleClick","_id","setState","editView","e","target","value","handleEdit","changeStudentInfo","fetch","then","data","json"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport {getStudent} from '../endpoints'\n\nclass CharacterCard extends Component {\n  state = {\n    studentData: null,\n    renderEdit: false,\n    name: \"\",\n  }\n\n  componentDidMount(){\n    fetch(getStudent(this.props.student._id))\n    .then(data => data.json())\n    .then(data => this.setState({studentData: data}))\n  }\n\n  regularView = () => {\n    return (\n      <Fragment>\n        <p>{this.state.studentData && this.props.student.name}</p>\n        <p>{this.state.studentData && this.state.studentData.role}</p>\n        <p>{this.state.studentData && this.state.studentData.patronus}</p>\n        <button onClick={() => this.props.handleClick(this.props.student._id)}>Toggle</button>\n        <button onClick={() => this.setState({renderEdit: true})}>Edit</button>\n      </Fragment>\n    )\n  }\n\n  editView = () => {\n    return (\n      <Fragment>\n        <p>Name: <input type=\"text\" placeholder={this.props.student.name} value={this.state.name} onChange={(e) => this.setState({name: e.target.value})}/></p>\n        <button onClick={this.handleEdit}>Submit</button>\n      </Fragment>\n    )\n  }\n\n  handleEdit = () => {\n    this.setState({\n      studentData: {\n        _id: this.state.studentData._id,\n        name: this.state.name\n      },\n      renderEdit: false\n    }, () => this.props.changeStudentInfo(this.state.studentData))\n  }\n\n  render(){\n    return (\n      <div id=\"character-card\">\n        {this.state.renderEdit ? this.editView() : this.regularView()}\n      </div>\n    )\n  }\n}\n\nexport default CharacterCard;\n"]},"metadata":{},"sourceType":"module"}